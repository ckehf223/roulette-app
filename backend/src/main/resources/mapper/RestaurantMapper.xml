<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.board.mapper.RestaurantMapper">

    <select id="findRestaurantList" resultType="CamelCaseMap">
        SELECT R.ID
             , R.NAME
             , R.LINK_URL
             , R.REMARK
             , IFNULL((SELECT COUNT(*) FROM RESULTHIS WHERE RES_ID = R.ID),0) AS CNT
        FROM RESTAURANT R
        ORDER BY CNT DESC
    </select>

    <insert id="insertRestaurant">
        INSERT INTO RESTAURANT
        (
            name
          , link_url
          , remark
        )
        VALUES
        (
           #{name}
         , #{linkUrl}
         , #{remark}
        )
    </insert>

</mapper>